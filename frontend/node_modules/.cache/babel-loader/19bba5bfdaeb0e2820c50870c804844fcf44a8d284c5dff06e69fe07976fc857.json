{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/princ/Desktop/ecommerceweb/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/princ/Desktop/ecommerceweb/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export function fetchProductById(id){return new Promise(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/products/'+id);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;resolve({data:data});case 7:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}export function createProduct(product){return new Promise(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('/products/',{method:'POST',body:JSON.stringify(product),headers:{'content-type':'application/json'}});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;resolve({data:data});case 7:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());}export function updateProduct(update){return new Promise(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch('/products/'+update.id,{method:'PATCH',body:JSON.stringify(update),headers:{'content-type':'application/json'}});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;resolve({data:data});case 7:case\"end\":return _context3.stop();}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());}export function fetchProductsByFilters(filter,sort,pagination,admin){// filter = {\"category\":[\"smartphone\",\"laptops\"]}\n// sort = {_sort:\"price\",_order=\"desc\"}\n// pagination = {_page:1,_limit=10}\nvar queryString='';for(var key in filter){var categoryValues=filter[key];if(categoryValues.length){queryString+=\"\".concat(key,\"=\").concat(categoryValues,\"&\");}}for(var _key in sort){queryString+=\"\".concat(_key,\"=\").concat(sort[_key],\"&\");}for(var _key2 in pagination){queryString+=\"\".concat(_key2,\"=\").concat(pagination[_key2],\"&\");}if(admin){queryString+=\"admin=true\";}return new Promise(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(resolve){var response,data,totalItems;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch('/products?'+queryString);case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;_context4.next=8;return response.headers.get('X-Total-Count');case 8:totalItems=_context4.sent;resolve({data:{products:data,totalItems:+totalItems}});case 10:case\"end\":return _context4.stop();}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}());}export function fetchCategories(){return new Promise(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch('/categories');case 2:response=_context5.sent;_context5.next=5;return response.json();case 5:data=_context5.sent;resolve({data:data});case 7:case\"end\":return _context5.stop();}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}());}export function fetchBrands(){return new Promise(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch('/brands');case 2:response=_context6.sent;_context6.next=5;return response.json();case 5:data=_context6.sent;resolve({data:data});case 7:case\"end\":return _context6.stop();}},_callee6);}));return function(_x6){return _ref6.apply(this,arguments);};}());}","map":{"version":3,"names":["fetchProductById","id","Promise","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resolve","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","stop","_x","apply","arguments","createProduct","product","_ref2","_callee2","_callee2$","_context2","method","body","JSON","stringify","headers","_x2","updateProduct","update","_ref3","_callee3","_callee3$","_context3","_x3","fetchProductsByFilters","filter","sort","pagination","admin","queryString","key","categoryValues","length","concat","_ref4","_callee4","totalItems","_callee4$","_context4","get","products","_x4","fetchCategories","_ref5","_callee5","_callee5$","_context5","_x5","fetchBrands","_ref6","_callee6","_callee6$","_context6","_x6"],"sources":["C:/Users/princ/Desktop/ecommerceweb/frontend/src/features/product/productAPI.js"],"sourcesContent":["\r\nexport function fetchProductById(id) {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch('/products/' + id);\r\n    const data = await response.json();\r\n    resolve({ data });\r\n  });\r\n}\r\n\r\nexport function createProduct(product) {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch('/products/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(product),\r\n      headers: { 'content-type': 'application/json' },\r\n    });\r\n    const data = await response.json();\r\n    resolve({ data });\r\n  });\r\n}\r\n\r\nexport function updateProduct(update) {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch(\r\n      '/products/' + update.id,\r\n      {\r\n        method: 'PATCH',\r\n        body: JSON.stringify(update),\r\n        headers: { 'content-type': 'application/json' },\r\n      }\r\n    );\r\n    const data = await response.json();\r\n    resolve({ data });\r\n  });\r\n}\r\n\r\nexport function fetchProductsByFilters(filter, sort, pagination, admin) {\r\n  // filter = {\"category\":[\"smartphone\",\"laptops\"]}\r\n  // sort = {_sort:\"price\",_order=\"desc\"}\r\n  // pagination = {_page:1,_limit=10}\r\n\r\n  let queryString = '';\r\n  for (let key in filter) {\r\n    const categoryValues = filter[key];\r\n    if (categoryValues.length) {\r\n      queryString += `${key}=${categoryValues}&`;\r\n    }\r\n  }\r\n  for (let key in sort) {\r\n    queryString += `${key}=${sort[key]}&`;\r\n  }\r\n  for (let key in pagination) {\r\n    queryString += `${key}=${pagination[key]}&`;\r\n  }\r\n  if(admin){\r\n    queryString += `admin=true`;\r\n  }\r\n\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch(\r\n      '/products?' + queryString\r\n    );\r\n    const data = await response.json();\r\n    const totalItems = await response.headers.get('X-Total-Count');\r\n    resolve({ data: { products: data, totalItems: +totalItems } });\r\n  });\r\n}\r\n\r\nexport function fetchCategories() {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch('/categories');\r\n    const data = await response.json();\r\n    resolve({ data });\r\n  });\r\n}\r\n\r\nexport function fetchBrands() {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch('/brands');\r\n    const data = await response.json();\r\n    resolve({ data });\r\n  });\r\n}\r\n"],"mappings":"oRACA,MAAO,SAAS,CAAAA,gBAAgBA,CAACC,EAAE,CAAE,CACnC,MAAO,IAAI,CAAAC,OAAO,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAOC,OAAO,MAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACR,CAAAC,KAAK,CAAC,YAAY,CAAGf,EAAE,CAAC,QAAzCQ,QAAQ,CAAAI,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,SACK,CAAAN,QAAQ,CAACS,IAAI,EAAE,QAA5BR,IAAI,CAAAG,QAAA,CAAAI,IAAA,CACVT,OAAO,CAAC,CAAEE,IAAI,CAAJA,IAAK,CAAC,CAAC,CAAC,wBAAAG,QAAA,CAAAM,IAAA,MAAAZ,OAAA,GACnB,mBAAAa,EAAA,SAAAjB,IAAA,CAAAkB,KAAA,MAAAC,SAAA,QAAC,CACJ,CAEA,MAAO,SAAS,CAAAC,aAAaA,CAACC,OAAO,CAAE,CACrC,MAAO,IAAI,CAAAtB,OAAO,6BAAAuB,KAAA,CAAArB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAoB,SAAOlB,OAAO,MAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAgB,UAAAC,SAAA,iBAAAA,SAAA,CAAAd,IAAA,CAAAc,SAAA,CAAAb,IAAA,SAAAa,SAAA,CAAAb,IAAA,SACR,CAAAC,KAAK,CAAC,YAAY,CAAE,CACzCa,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACR,OAAO,CAAC,CAC7BS,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CAAC,QAJIxB,QAAQ,CAAAmB,SAAA,CAAAX,IAAA,CAAAW,SAAA,CAAAb,IAAA,SAKK,CAAAN,QAAQ,CAACS,IAAI,EAAE,QAA5BR,IAAI,CAAAkB,SAAA,CAAAX,IAAA,CACVT,OAAO,CAAC,CAAEE,IAAI,CAAJA,IAAK,CAAC,CAAC,CAAC,wBAAAkB,SAAA,CAAAT,IAAA,MAAAO,QAAA,GACnB,mBAAAQ,GAAA,SAAAT,KAAA,CAAAJ,KAAA,MAAAC,SAAA,QAAC,CACJ,CAEA,MAAO,SAAS,CAAAa,aAAaA,CAACC,MAAM,CAAE,CACpC,MAAO,IAAI,CAAAlC,OAAO,6BAAAmC,KAAA,CAAAjC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAgC,SAAO9B,OAAO,MAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAA4B,UAAAC,SAAA,iBAAAA,SAAA,CAAA1B,IAAA,CAAA0B,SAAA,CAAAzB,IAAA,SAAAyB,SAAA,CAAAzB,IAAA,SACR,CAAAC,KAAK,CAC1B,YAAY,CAAGoB,MAAM,CAACnC,EAAE,CACxB,CACE4B,MAAM,CAAE,OAAO,CACfC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACI,MAAM,CAAC,CAC5BH,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CACF,QAPKxB,QAAQ,CAAA+B,SAAA,CAAAvB,IAAA,CAAAuB,SAAA,CAAAzB,IAAA,SAQK,CAAAN,QAAQ,CAACS,IAAI,EAAE,QAA5BR,IAAI,CAAA8B,SAAA,CAAAvB,IAAA,CACVT,OAAO,CAAC,CAAEE,IAAI,CAAJA,IAAK,CAAC,CAAC,CAAC,wBAAA8B,SAAA,CAAArB,IAAA,MAAAmB,QAAA,GACnB,mBAAAG,GAAA,SAAAJ,KAAA,CAAAhB,KAAA,MAAAC,SAAA,QAAC,CACJ,CAEA,MAAO,SAAS,CAAAoB,sBAAsBA,CAACC,MAAM,CAAEC,IAAI,CAAEC,UAAU,CAAEC,KAAK,CAAE,CACtE;AACA;AACA;AAEA,GAAI,CAAAC,WAAW,CAAG,EAAE,CACpB,IAAK,GAAI,CAAAC,GAAG,GAAI,CAAAL,MAAM,CAAE,CACtB,GAAM,CAAAM,cAAc,CAAGN,MAAM,CAACK,GAAG,CAAC,CAClC,GAAIC,cAAc,CAACC,MAAM,CAAE,CACzBH,WAAW,KAAAI,MAAA,CAAOH,GAAG,MAAAG,MAAA,CAAIF,cAAc,KAAG,CAC5C,CACF,CACA,IAAK,GAAI,CAAAD,IAAG,GAAI,CAAAJ,IAAI,CAAE,CACpBG,WAAW,KAAAI,MAAA,CAAOH,IAAG,MAAAG,MAAA,CAAIP,IAAI,CAACI,IAAG,CAAC,KAAG,CACvC,CACA,IAAK,GAAI,CAAAA,KAAG,GAAI,CAAAH,UAAU,CAAE,CAC1BE,WAAW,KAAAI,MAAA,CAAOH,KAAG,MAAAG,MAAA,CAAIN,UAAU,CAACG,KAAG,CAAC,KAAG,CAC7C,CACA,GAAGF,KAAK,CAAC,CACPC,WAAW,cAAgB,CAC7B,CAEA,MAAO,IAAI,CAAA7C,OAAO,6BAAAkD,KAAA,CAAAhD,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAA+C,SAAO7C,OAAO,MAAAC,QAAA,CAAAC,IAAA,CAAA4C,UAAA,QAAAjD,mBAAA,GAAAM,IAAA,UAAA4C,UAAAC,SAAA,iBAAAA,SAAA,CAAA1C,IAAA,CAAA0C,SAAA,CAAAzC,IAAA,SAAAyC,SAAA,CAAAzC,IAAA,SACR,CAAAC,KAAK,CAC1B,YAAY,CAAG+B,WAAW,CAC3B,QAFKtC,QAAQ,CAAA+C,SAAA,CAAAvC,IAAA,CAAAuC,SAAA,CAAAzC,IAAA,SAGK,CAAAN,QAAQ,CAACS,IAAI,EAAE,QAA5BR,IAAI,CAAA8C,SAAA,CAAAvC,IAAA,CAAAuC,SAAA,CAAAzC,IAAA,SACe,CAAAN,QAAQ,CAACwB,OAAO,CAACwB,GAAG,CAAC,eAAe,CAAC,QAAxDH,UAAU,CAAAE,SAAA,CAAAvC,IAAA,CAChBT,OAAO,CAAC,CAAEE,IAAI,CAAE,CAAEgD,QAAQ,CAAEhD,IAAI,CAAE4C,UAAU,CAAE,CAACA,UAAW,CAAE,CAAC,CAAC,CAAC,yBAAAE,SAAA,CAAArC,IAAA,MAAAkC,QAAA,GAChE,mBAAAM,GAAA,SAAAP,KAAA,CAAA/B,KAAA,MAAAC,SAAA,QAAC,CACJ,CAEA,MAAO,SAAS,CAAAsC,eAAeA,CAAA,CAAG,CAChC,MAAO,IAAI,CAAA1D,OAAO,6BAAA2D,KAAA,CAAAzD,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAwD,SAAOtD,OAAO,MAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAoD,UAAAC,SAAA,iBAAAA,SAAA,CAAAlD,IAAA,CAAAkD,SAAA,CAAAjD,IAAA,SAAAiD,SAAA,CAAAjD,IAAA,SACR,CAAAC,KAAK,CAAC,aAAa,CAAC,QAArCP,QAAQ,CAAAuD,SAAA,CAAA/C,IAAA,CAAA+C,SAAA,CAAAjD,IAAA,SACK,CAAAN,QAAQ,CAACS,IAAI,EAAE,QAA5BR,IAAI,CAAAsD,SAAA,CAAA/C,IAAA,CACVT,OAAO,CAAC,CAAEE,IAAI,CAAJA,IAAK,CAAC,CAAC,CAAC,wBAAAsD,SAAA,CAAA7C,IAAA,MAAA2C,QAAA,GACnB,mBAAAG,GAAA,SAAAJ,KAAA,CAAAxC,KAAA,MAAAC,SAAA,QAAC,CACJ,CAEA,MAAO,SAAS,CAAA4C,WAAWA,CAAA,CAAG,CAC5B,MAAO,IAAI,CAAAhE,OAAO,6BAAAiE,KAAA,CAAA/D,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAA8D,SAAO5D,OAAO,MAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAA0D,UAAAC,SAAA,iBAAAA,SAAA,CAAAxD,IAAA,CAAAwD,SAAA,CAAAvD,IAAA,SAAAuD,SAAA,CAAAvD,IAAA,SACR,CAAAC,KAAK,CAAC,SAAS,CAAC,QAAjCP,QAAQ,CAAA6D,SAAA,CAAArD,IAAA,CAAAqD,SAAA,CAAAvD,IAAA,SACK,CAAAN,QAAQ,CAACS,IAAI,EAAE,QAA5BR,IAAI,CAAA4D,SAAA,CAAArD,IAAA,CACVT,OAAO,CAAC,CAAEE,IAAI,CAAJA,IAAK,CAAC,CAAC,CAAC,wBAAA4D,SAAA,CAAAnD,IAAA,MAAAiD,QAAA,GACnB,mBAAAG,GAAA,SAAAJ,KAAA,CAAA9C,KAAA,MAAAC,SAAA,QAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}