{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/princ/Desktop/ecommerceweb/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/princ/Desktop/ecommerceweb/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import{createOrder,fetchAllOrders,updateOrder}from\"./orderAPI\";var initialState={orders:[],status:\"idle\",currentOrder:null,totalOrders:0};//we may need more info of current order\nexport var createOrderAsync=createAsyncThunk(\"order/createOrder\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(order){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return createOrder(order);case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var updateOrderAsync=createAsyncThunk(\"order/updateOrder\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(order){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return updateOrder(order);case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var fetchAllOrdersAsync=createAsyncThunk(\"order/fetchAllOrders\",/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_ref3){var sort,pagination,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:sort=_ref3.sort,pagination=_ref3.pagination;_context3.next=3;return fetchAllOrders(sort,pagination);case 3:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 5:case\"end\":return _context3.stop();}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}());export var orderSlice=createSlice({name:\"order\",initialState:initialState,reducers:{resetOrder:function resetOrder(state){state.currentOrder=null;}},extraReducers:function extraReducers(builder){builder.addCase(createOrderAsync.pending,function(state){state.status=\"loading\";}).addCase(createOrderAsync.fulfilled,function(state,action){state.status=\"idle\";state.orders.push(action.payload);state.currentOrder=action.payload;}).addCase(fetchAllOrdersAsync.pending,function(state){state.status=\"loading\";}).addCase(fetchAllOrdersAsync.fulfilled,function(state,action){state.status=\"idle\";state.orders=action.payload.orders;state.totalOrders=action.payload.totalOrders;}).addCase(updateOrderAsync.pending,function(state){state.status=\"loading\";}).addCase(updateOrderAsync.fulfilled,function(state,action){state.status=\"idle\";var index=state.orders.findIndex(function(order){return order.id===action.payload.id;});state.orders[index]=action.payload;});}});var resetOrder=orderSlice.actions.resetOrder;export{resetOrder};export var selectCurrentOrder=function selectCurrentOrder(state){return state.order.currentOrder;};export var selectOrders=function selectOrders(state){return state.order.orders;};export var selectTotalOrders=function selectTotalOrders(state){return state.order.totalOrders;};export var selectStatus=function selectStatus(state){return state.order.status;};export default orderSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","createOrder","fetchAllOrders","updateOrder","initialState","orders","status","currentOrder","totalOrders","createOrderAsync","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","order","response","wrap","_callee$","_context","prev","next","sent","abrupt","data","stop","_x","apply","arguments","updateOrderAsync","_ref2","_callee2","_callee2$","_context2","_x2","fetchAllOrdersAsync","_ref4","_callee3","_ref3","sort","pagination","_callee3$","_context3","_x3","orderSlice","name","reducers","resetOrder","state","extraReducers","builder","addCase","pending","fulfilled","action","push","payload","index","findIndex","id","actions","selectCurrentOrder","selectOrders","selectTotalOrders","selectStatus","reducer"],"sources":["C:/Users/princ/Desktop/ecommerceweb/frontend/src/features/order/orderSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { createOrder, fetchAllOrders, updateOrder } from \"./orderAPI\";\r\n\r\nconst initialState = {\r\n  orders: [],\r\n  status: \"idle\",\r\n  currentOrder: null,\r\n  totalOrders: 0,\r\n};\r\n//we may need more info of current order\r\n\r\nexport const createOrderAsync = createAsyncThunk(\r\n  \"order/createOrder\",\r\n  async (order) => {\r\n    const response = await createOrder(order);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\nexport const updateOrderAsync = createAsyncThunk(\r\n  \"order/updateOrder\",\r\n  async (order) => {\r\n    const response = await updateOrder(order);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const fetchAllOrdersAsync = createAsyncThunk(\r\n  \"order/fetchAllOrders\",\r\n  async ({ sort, pagination }) => {\r\n    const response = await fetchAllOrders(sort, pagination);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const orderSlice = createSlice({\r\n  name: \"order\",\r\n  initialState,\r\n  reducers: {\r\n    resetOrder: (state) => {\r\n      state.currentOrder = null;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(createOrderAsync.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(createOrderAsync.fulfilled, (state, action) => {\r\n        state.status = \"idle\";\r\n        state.orders.push(action.payload);\r\n        state.currentOrder = action.payload;\r\n      })\r\n      .addCase(fetchAllOrdersAsync.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(fetchAllOrdersAsync.fulfilled, (state, action) => {\r\n        state.status = \"idle\";\r\n        state.orders = action.payload.orders;\r\n        state.totalOrders = action.payload.totalOrders;\r\n      })\r\n      .addCase(updateOrderAsync.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(updateOrderAsync.fulfilled, (state, action) => {\r\n        state.status = \"idle\";\r\n        const index = state.orders.findIndex(\r\n          (order) => order.id === action.payload.id\r\n        );\r\n        state.orders[index] = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { resetOrder } = orderSlice.actions;\r\n\r\nexport const selectCurrentOrder = (state) => state.order.currentOrder;\r\nexport const selectOrders = (state) => state.order.orders;\r\nexport const selectTotalOrders = (state) => state.order.totalOrders;\r\nexport const selectStatus = (state) => state.order.status;\r\nexport default orderSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}