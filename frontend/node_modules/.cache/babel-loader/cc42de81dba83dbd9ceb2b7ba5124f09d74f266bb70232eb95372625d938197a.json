{"ast":null,"code":"import _objectSpread from\"C:/Users/princ/Desktop/eommercenew/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useSelector,useDispatch}from'react-redux';import{selectError,selectLoggedInUser}from'../authSlice';import{Link,Navigate}from'react-router-dom';import{loginUserAsync}from'../authSlice';import{useForm}from'react-hook-form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var dispatch=useDispatch();var error=useSelector(selectError);var user=useSelector(selectLoggedInUser);var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;return/*#__PURE__*/_jsxs(_Fragment,{children:[user&&/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-auto h-10 w-auto\",src:\"/ecommerce.png\",alt:\"Your Company\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\",children:\"Log in to your account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsxs(\"form\",{noValidate:true,onSubmit:handleSubmit(function(data){dispatch(loginUserAsync({email:data.email,password:data.password}));}),className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Email address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:\"email\"},register('email',{required:'email is required',pattern:{value:/\\b[\\w\\.-]+@[\\w\\.-]+\\.\\w{2,4}\\b/gi,message:'email not valid'}})),{},{type:\"email\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.email.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",className:\"font-semibold text-indigo-600 hover:text-indigo-500\",children:\"Forgot password?\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:\"password\"},register('password',{required:'password is required'})),{},{type:\"password\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.password.message})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error||error.message})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\",children:\"Log in\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-10 text-center text-sm text-gray-500\",children:[\"Not a member?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\",children:\"Create an Account\"})]})]})]})]});}","map":{"version":3,"names":["useSelector","useDispatch","selectError","selectLoggedInUser","Link","Navigate","loginUserAsync","useForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","dispatch","error","user","_useForm","register","handleSubmit","errors","formState","children","to","replace","className","src","alt","noValidate","onSubmit","data","email","password","htmlFor","_objectSpread","id","required","pattern","value","message","type"],"sources":["C:/Users/princ/Desktop/eommercenew/frontend/src/features/auth/components/Login.js"],"sourcesContent":["import { useSelector, useDispatch } from 'react-redux';\r\nimport { selectError, selectLoggedInUser } from '../authSlice';\r\nimport { Link, Navigate } from 'react-router-dom';\r\nimport { loginUserAsync } from '../authSlice';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nexport default function Login() {\r\n  const dispatch = useDispatch();\r\n  const error = useSelector(selectError);\r\n  const user = useSelector(selectLoggedInUser);\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n\r\n  return (\r\n    <>\r\n      {user && <Navigate to=\"/\" replace={true}></Navigate>}\r\n      <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\r\n        <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n          <img\r\n            className=\"mx-auto h-10 w-auto\"\r\n            src=\"/ecommerce.png\"\r\n            alt=\"Your Company\"\r\n          />\r\n          <h2 className=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">\r\n            Log in to your account\r\n          </h2>\r\n        </div>\r\n\r\n        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n          <form\r\n            noValidate\r\n            onSubmit={handleSubmit((data) => {\r\n              dispatch(\r\n                loginUserAsync({ email: data.email, password: data.password })\r\n              );\r\n            })}\r\n            className=\"space-y-6\"\r\n          >\r\n            <div>\r\n              <label\r\n                htmlFor=\"email\"\r\n                className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n              >\r\n                Email address\r\n              </label>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  id=\"email\"\r\n                  {...register('email', {\r\n                    required: 'email is required',\r\n                    pattern: {\r\n                      value: /\\b[\\w\\.-]+@[\\w\\.-]+\\.\\w{2,4}\\b/gi,\r\n                      message: 'email not valid',\r\n                    },\r\n                  })}\r\n                  type=\"email\"\r\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                />\r\n                {errors.email && (\r\n                  <p className=\"text-red-500\">{errors.email.message}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <label\r\n                  htmlFor=\"password\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Password\r\n                </label>\r\n                <div className=\"text-sm\">\r\n                  <Link\r\n                    to=\"/forgot-password\"\r\n                    className=\"font-semibold text-indigo-600 hover:text-indigo-500\"\r\n                  >\r\n                    Forgot password?\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  id=\"password\"\r\n                  {...register('password', {\r\n                    required: 'password is required',\r\n                  })}\r\n                  type=\"password\"\r\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                />\r\n                {errors.password && (\r\n                  <p className=\"text-red-500\">{errors.password.message}</p>\r\n                )}\r\n              </div>\r\n              {error && <p className=\"text-red-500\">{error || error.message}</p>}\r\n            </div>\r\n\r\n            <div>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\r\n              >\r\n                Log in\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n          <p className=\"mt-10 text-center text-sm text-gray-500\">\r\n            Not a member?{' '}\r\n            <Link\r\n              to=\"/signup\"\r\n              className=\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\"\r\n            >\r\n              Create an Account\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}