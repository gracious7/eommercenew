{"ast":null,"code":"import _toConsumableArray from\"C:/Users/princ/Desktop/ecommerceweb/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/princ/Desktop/ecommerceweb/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/princ/Desktop/ecommerceweb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{deleteItemFromCartAsync,selectItems,updateCartAsync}from'../features/cart/cartSlice';import{Navigate}from'react-router-dom';import{useForm}from'react-hook-form';import{updateUserAsync}from'../features/user/userSlice';import{useState}from'react';import{createOrderAsync,selectCurrentOrder,selectStatus}from'../features/order/orderSlice';import{selectUserInfo}from'../features/user/userSlice';import{Grid}from'react-loader-spinner';import{Toaster,toast}from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Checkout(){var dispatch=useDispatch();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,errors=_useForm.formState.errors;var user=useSelector(selectUserInfo);var items=useSelector(selectItems);var status=useSelector(selectStatus);var currentOrder=useSelector(selectCurrentOrder);//checking tax rate\nvar calculateTaxRate=function calculateTaxRate(item){if(item.product.type===\"product\"){if(item.product.price>1000&&item.product.price<=5000){return 0.12;// PA\n}else if(item.product.price>5000){return 0.18;// PB\n}else{return 0.35;}}else if(item.product.type===\"service\"){if(item.product.price>1000&&item.product.price<=8000){return 0.1;// SA\n}else if(item.product.price>8000){return 0.15;// SB\n}else{return 0.35;}}return 0;// Default tax rate\n};//calculating total amount after tax\nvar totalAmount=items.reduce(function(amount,item){var taxRate=calculateTaxRate(item);var priceAfterDiscount=Math.round(item.product.price*(1-item.product.discountPercentage/100));var itemTotal=priceAfterDiscount*item.quantity*(1+taxRate);return itemTotal+amount;},0);//tax price\nvar taxprice=items.reduce(function(amount,item){var taxRate=calculateTaxRate(item);var priceAfterDiscount=Math.round(item.product.price*(1-item.product.discountPercentage/100));var itemTotal=priceAfterDiscount*item.quantity*taxRate;return itemTotal;},0);var totalItems=items.reduce(function(total,item){return item.quantity+total;},0);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedAddress=_useState2[0],setSelectedAddress=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),paymentMethod=_useState4[0],setPaymentMethod=_useState4[1];var handleQuantity=function handleQuantity(e,item){dispatch(updateCartAsync({id:item.id,quantity:+e.target.value}));};var handleRemove=function handleRemove(e,id){dispatch(deleteItemFromCartAsync(id));};var handleAddress=function handleAddress(e){console.log(e.target.value);setSelectedAddress(user.addresses[e.target.value]);};var handlePayment=function handlePayment(e){console.log(e.target.value);if(e.target.value===\"card\"){toast.error(\"Card method is currently not available trye again later!\");}else{setPaymentMethod(e.target.value);}};var handleOrder=function handleOrder(e){if(selectedAddress&&paymentMethod){var order={items:items,totalAmount:totalAmount,totalItems:totalItems,user:user.id,paymentMethod:paymentMethod,selectedAddress:selectedAddress,status:'pending'// other status can be delivered, received.\n};dispatch(createOrderAsync(order));// need to redirect from here to a new page of order success.\n}else{toast.error('Enter Address and Payment method');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Toaster,{}),!items.length&&/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}),currentOrder&&currentOrder.paymentMethod==='cash'&&/*#__PURE__*/_jsx(Navigate,{to:\"/order-success/\".concat(currentOrder.id),replace:true}),currentOrder&&currentOrder.paymentMethod==='card'&&/*#__PURE__*/_jsx(Navigate,{to:\"/stripe-checkout/\",replace:true}),status==='loading'?/*#__PURE__*/_jsx(Grid,{height:\"80\",width:\"80\",color:\"rgb(79, 70, 229) \",ariaLabel:\"grid-loading\",radius:\"12.5\",wrapperStyle:{},wrapperClass:\"\",visible:true}):/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-3\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"bg-white px-5 py-12 mt-12\",noValidate:true,onSubmit:handleSubmit(function(data){console.log(data);dispatch(updateUserAsync(_objectSpread(_objectSpread({},user),{},{addresses:[].concat(_toConsumableArray(user.addresses),[data])})));reset();}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-gray-900/10 pb-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold leading-7 text-gray-900\",children:\"Personal Information\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm leading-6 text-gray-600\",children:\"Use a permanent address where you can receive mail.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Full name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register('name',{required:'name is required'})),{},{id:\"name\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.name.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Email address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:\"email\"},register('email',{required:'email is required'})),{},{type:\"email\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.email.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Phone\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:\"phone\"},register('phone',{required:'phone is required'})),{},{type:\"tel\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.phone&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.phone.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-full\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"street-address\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Street address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register('street',{required:'street is required'})),{},{id:\"street\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.street&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.street.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2 sm:col-start-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"City\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register('city',{required:'city is required'})),{},{id:\"city\",autoComplete:\"address-level2\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.city&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.city.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"state\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"State / Province\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register('state',{required:'state is required'})),{},{id:\"state\",autoComplete:\"address-level1\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.state&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.state.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pinCode\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"ZIP / Postal code\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register('pinCode',{required:'pinCode is required'})),{},{id:\"pinCode\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.pinCode&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.pinCode.message})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex items-center justify-end gap-x-6\",children:[/*#__PURE__*/_jsx(\"button\",{// onClick={e=>reset()}\ntype:\"button\",className:\"text-sm font-semibold leading-6 text-gray-900\",children:\"Reset\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\",children:\"Add Address\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-gray-900/10 pb-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-base font-semibold leading-7 text-gray-900\",children:\"Addresses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm leading-6 text-gray-600\",children:\"Choose from Existing addresses\"}),/*#__PURE__*/_jsx(\"ul\",{children:user.addresses.map(function(address,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between gap-x-6 px-5 py-5 border-solid border-2 border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-x-4\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleAddress,name:\"address\",type:\"radio\",value:index,className:\"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-auto\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold leading-6 text-gray-900\",children:address.name}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 truncate text-xs leading-5 text-gray-500\",children:address.street}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 truncate text-xs leading-5 text-gray-500\",children:address.pinCode})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:flex sm:flex-col sm:items-end\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 text-gray-900\",children:[\"Phone: \",address.phone]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm leading-6 text-gray-500\",children:address.city})]})]},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 space-y-10\",children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"legend\",{className:\"text-sm font-semibold leading-6 text-gray-900\",children:\"Payment Methods\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm leading-6 text-gray-600\",children:\"Choose One\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"cash\",name:\"payments\",onChange:handlePayment,value:\"cash\",type:\"radio\",checked:paymentMethod==='cash',className:\"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cash\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Cash\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"card\",onChange:handlePayment,name:\"payments\",checked:paymentMethod==='card',value:\"card\",type:\"radio\",className:\"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"card\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Card Payment\"})]})]})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto mt-12 bg-white max-w-7xl px-2 sm:px-2 lg:px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 px-0 py-6 sm:px-0\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl my-5 font-bold tracking-tight text-gray-900\",children:\"Cart\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flow-root\",children:/*#__PURE__*/_jsx(\"ul\",{role:\"list\",className:\"-my-6 divide-y divide-gray-200\",children:items.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"flex py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\",children:/*#__PURE__*/_jsx(\"img\",{src:item.product.thumbnail,alt:item.product.title,className:\"h-full w-full object-cover object-center\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex flex-1 flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-base font-medium text-gray-900\",children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"a\",{href:item.product.id,children:item.product.title})}),/*#__PURE__*/_jsxs(\"p\",{className:\"ml-4\",children:[\"Rs. \",Math.round(item.product.price*(1-item.product.discountPercentage/100))]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:item.product.brand})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 items-end justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-500\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"quantity\",className:\"inline mr-5 text-sm font-medium leading-6 text-gray-900\",children:\"Qty\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return handleQuantity(e,item);},value:item.quantity,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return handleRemove(e,item.id);},type:\"button\",className:\"font-medium text-indigo-600 hover:text-indigo-500\",children:\"Remove\"})})]})]})]},item.id);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 px-2 py-6 sm:px-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between my-2 text-base font-medium text-gray-900\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Tax\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rs. \",taxprice]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between my-2 text-base font-medium text-gray-900\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Total Amount\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rs. \",totalAmount]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between my-2 text-base font-medium text-gray-900\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Total Items in Cart\"}),/*#__PURE__*/_jsxs(\"p\",{children:[totalItems,\" items\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-0.5 text-sm text-gray-500\",children:\"Shipping and taxes calculated at checkout.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(\"div\",{onClick:handleOrder,className:\"flex cursor-pointer items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700\",children:\"Order Now\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 flex justify-center text-center text-sm text-gray-500\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"or\",/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"font-medium text-indigo-600 hover:text-indigo-500\",children:[\"Continue Shopping\",/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\" \\u2192\"})]})})]})})]})]})})]})})]});}export default Checkout;","map":{"version":3,"names":["Link","useSelector","useDispatch","deleteItemFromCartAsync","selectItems","updateCartAsync","Navigate","useForm","updateUserAsync","useState","createOrderAsync","selectCurrentOrder","selectStatus","selectUserInfo","Grid","Toaster","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Checkout","dispatch","_useForm","register","handleSubmit","reset","errors","formState","user","items","status","currentOrder","calculateTaxRate","item","product","type","price","totalAmount","reduce","amount","taxRate","priceAfterDiscount","Math","round","discountPercentage","itemTotal","quantity","taxprice","totalItems","total","_useState","_useState2","_slicedToArray","selectedAddress","setSelectedAddress","_useState3","_useState4","paymentMethod","setPaymentMethod","handleQuantity","e","id","target","value","handleRemove","handleAddress","console","log","addresses","handlePayment","error","handleOrder","order","children","length","to","replace","concat","height","width","color","ariaLabel","radius","wrapperStyle","wrapperClass","visible","className","noValidate","onSubmit","data","_objectSpread","_toConsumableArray","htmlFor","required","name","message","email","phone","street","autoComplete","city","state","pinCode","map","address","index","onChange","checked","role","src","thumbnail","alt","title","href","brand","onClick"],"sources":["C:/Users/princ/Desktop/ecommerceweb/frontend/src/pages/Checkout.js"],"sourcesContent":["import { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  deleteItemFromCartAsync,\r\n  selectItems,\r\n  updateCartAsync,\r\n} from '../features/cart/cartSlice';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { updateUserAsync } from '../features/user/userSlice';\r\nimport { useState } from 'react';\r\nimport {\r\n  createOrderAsync,\r\n  selectCurrentOrder,\r\n  selectStatus,\r\n} from '../features/order/orderSlice';\r\nimport { selectUserInfo } from '../features/user/userSlice';\r\nimport { Grid } from 'react-loader-spinner';\r\nimport { Toaster, toast } from 'react-hot-toast';\r\n\r\nfunction Checkout() {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const user = useSelector(selectUserInfo);\r\n  const items = useSelector(selectItems);\r\n  const status = useSelector(selectStatus);\r\n  const currentOrder = useSelector(selectCurrentOrder);\r\n\r\n//checking tax rate\r\n  const calculateTaxRate = (item) => {\r\n    if (item.product.type === \"product\") {\r\n      if (item.product.price > 1000 && item.product.price <= 5000) {\r\n        return 0.12; // PA\r\n      } else if (item.product.price > 5000) {\r\n        return 0.18; // PB\r\n      }\r\n      else{\r\n        return 0.35;\r\n      }\r\n    } else if (item.product.type === \"service\") {\r\n      if (item.product.price > 1000 && item.product.price <= 8000) {\r\n        return 0.1; // SA\r\n      } else if (item.product.price > 8000) {\r\n        return 0.15; // SB\r\n      }\r\n      else{\r\n        return 0.35;\r\n      }\r\n    }\r\n    return 0; // Default tax rate\r\n  };\r\n\r\n  //calculating total amount after tax\r\n  const totalAmount = items.reduce(\r\n    (amount, item) => {\r\n      const taxRate = calculateTaxRate(item);\r\n      const priceAfterDiscount = Math.round(item.product.price * (1 - item.product.discountPercentage / 100));\r\n      const itemTotal = priceAfterDiscount * item.quantity * (1 + taxRate);\r\n      return itemTotal + amount;\r\n    },\r\n    0\r\n  );\r\n\r\n  //tax price\r\n  const taxprice = items.reduce(\r\n    (amount, item) => {\r\n      const taxRate = calculateTaxRate(item);\r\n      const priceAfterDiscount = Math.round(item.product.price * (1 - item.product.discountPercentage / 100));\r\n      const itemTotal = priceAfterDiscount * item.quantity * ( taxRate);\r\n      return itemTotal ;\r\n    },\r\n    0\r\n  );\r\n\r\n\r\n  const totalItems = items.reduce((total, item) => item.quantity + total, 0);\r\n\r\n  const [selectedAddress, setSelectedAddress] = useState(null);\r\n  const [paymentMethod, setPaymentMethod] = useState(null);\r\n\r\n  const handleQuantity = (e, item) => {\r\n    dispatch(updateCartAsync({ id: item.id, quantity: +e.target.value }));\r\n  };\r\n\r\n  const handleRemove = (e, id) => {\r\n    dispatch(deleteItemFromCartAsync(id));\r\n  };\r\n\r\n  const handleAddress = (e) => {\r\n    console.log(e.target.value);\r\n    setSelectedAddress(user.addresses[e.target.value]);\r\n  };\r\n\r\n  const handlePayment = (e) => {\r\n    console.log(e.target.value);\r\n    if(e.target.value === \"card\"){\r\n      toast.error(\"Card method is currently not available trye again later!\")\r\n    }\r\n    else{\r\n      setPaymentMethod(e.target.value);\r\n\r\n    }\r\n  };\r\n\r\n  const handleOrder = (e) => {\r\n    if (selectedAddress && paymentMethod) {\r\n      const order = {\r\n        items,\r\n        totalAmount,\r\n        totalItems,\r\n        user: user.id,\r\n        paymentMethod,\r\n        selectedAddress,\r\n        status: 'pending', // other status can be delivered, received.\r\n      };\r\n      dispatch(createOrderAsync(order));\r\n      // need to redirect from here to a new page of order success.\r\n    } else {\r\n      \r\n      toast.error('Enter Address and Payment method');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Toaster/>\r\n      {!items.length && <Navigate to=\"/\" replace={true}></Navigate>}\r\n      {currentOrder && currentOrder.paymentMethod === 'cash' && (\r\n        <Navigate\r\n          to={`/order-success/${currentOrder.id}`}\r\n          replace={true}\r\n        ></Navigate>\r\n      )}\r\n      {currentOrder && currentOrder.paymentMethod === 'card' && (\r\n        <Navigate to={`/stripe-checkout/`} replace={true}></Navigate>\r\n      )}\r\n\r\n      {status === 'loading' ? (\r\n        <Grid\r\n          height=\"80\"\r\n          width=\"80\"\r\n          color=\"rgb(79, 70, 229) \"\r\n          ariaLabel=\"grid-loading\"\r\n          radius=\"12.5\"\r\n          wrapperStyle={{}}\r\n          wrapperClass=\"\"\r\n          visible={true}\r\n        />\r\n      ) : <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-5\">\r\n          <div className=\"lg:col-span-3\">\r\n            {/* This form is for address */}\r\n            <form\r\n              className=\"bg-white px-5 py-12 mt-12\"\r\n              noValidate\r\n              onSubmit={handleSubmit((data) => {\r\n                console.log(data);\r\n                dispatch(\r\n                  updateUserAsync({\r\n                    ...user,\r\n                    addresses: [...user.addresses, data],\r\n                  })\r\n                );\r\n                reset();\r\n              })}\r\n            >\r\n              <div className=\"space-y-12\">\r\n                <div className=\"border-b border-gray-900/10 pb-12\">\r\n                  <h2 className=\"text-2xl font-semibold leading-7 text-gray-900\">\r\n                    Personal Information\r\n                  </h2>\r\n                  <p className=\"mt-1 text-sm leading-6 text-gray-600\">\r\n                    Use a permanent address where you can receive mail.\r\n                  </p>\r\n\r\n                  <div className=\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\">\r\n                    <div className=\"sm:col-span-4\">\r\n                      <label\r\n                        htmlFor=\"name\"\r\n                        className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                      >\r\n                        Full name\r\n                      </label>\r\n                      <div className=\"mt-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          {...register('name', {\r\n                            required: 'name is required',\r\n                          })}\r\n                          id=\"name\"\r\n                          className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                        />\r\n                        {errors.name && (\r\n                          <p className=\"text-red-500\">{errors.name.message}</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"sm:col-span-4\">\r\n                      <label\r\n                        htmlFor=\"email\"\r\n                        className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                      >\r\n                        Email address\r\n                      </label>\r\n                      <div className=\"mt-2\">\r\n                        <input\r\n                          id=\"email\"\r\n                          {...register('email', {\r\n                            required: 'email is required',\r\n                          })}\r\n                          type=\"email\"\r\n                          className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                        />\r\n                        {errors.email && (\r\n                          <p className=\"text-red-500\">{errors.email.message}</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"sm:col-span-3\">\r\n                      <label\r\n                        htmlFor=\"phone\"\r\n                        className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                      >\r\n                        Phone\r\n                      </label>\r\n                      <div className=\"mt-2\">\r\n                        <input\r\n                          id=\"phone\"\r\n                          {...register('phone', {\r\n                            required: 'phone is required',\r\n                          })}\r\n                          type=\"tel\"\r\n                          className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                        />\r\n                        {errors.phone && (\r\n                          <p className=\"text-red-500\">{errors.phone.message}</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-span-full\">\r\n                      <label\r\n                        htmlFor=\"street-address\"\r\n                        className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                      >\r\n                        Street address\r\n                      </label>\r\n                      <div className=\"mt-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          {...register('street', {\r\n                            required: 'street is required',\r\n                          })}\r\n                          id=\"street\"\r\n                          className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                        />\r\n                        {errors.street && (\r\n                          <p className=\"text-red-500\">\r\n                            {errors.street.message}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"sm:col-span-2 sm:col-start-1\">\r\n                      <label\r\n                        htmlFor=\"city\"\r\n                        className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                      >\r\n                        City\r\n                      </label>\r\n                      <div className=\"mt-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          {...register('city', {\r\n                            required: 'city is required',\r\n                          })}\r\n                          id=\"city\"\r\n                          autoComplete=\"address-level2\"\r\n                          className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                        />\r\n                        {errors.city && (\r\n                          <p className=\"text-red-500\">{errors.city.message}</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"sm:col-span-2\">\r\n                      <label\r\n                        htmlFor=\"state\"\r\n                        className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                      >\r\n                        State / Province\r\n                      </label>\r\n                      <div className=\"mt-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          {...register('state', {\r\n                            required: 'state is required',\r\n                          })}\r\n                          id=\"state\"\r\n                          autoComplete=\"address-level1\"\r\n                          className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                        />\r\n                        {errors.state && (\r\n                          <p className=\"text-red-500\">{errors.state.message}</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"sm:col-span-2\">\r\n                      <label\r\n                        htmlFor=\"pinCode\"\r\n                        className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                      >\r\n                        ZIP / Postal code\r\n                      </label>\r\n                      <div className=\"mt-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          {...register('pinCode', {\r\n                            required: 'pinCode is required',\r\n                          })}\r\n                          id=\"pinCode\"\r\n                          className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                        />\r\n                        {errors.pinCode && (\r\n                          <p className=\"text-red-500\">\r\n                            {errors.pinCode.message}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-6 flex items-center justify-end gap-x-6\">\r\n                  <button\r\n                    // onClick={e=>reset()}\r\n                    type=\"button\"\r\n                    className=\"text-sm font-semibold leading-6 text-gray-900\"\r\n                  >\r\n                    Reset\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\r\n                  >\r\n                    Add Address\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n            <div className=\"border-b border-gray-900/10 pb-12\">\r\n              <h2 className=\"text-base font-semibold leading-7 text-gray-900\">\r\n                Addresses\r\n              </h2>\r\n              <p className=\"mt-1 text-sm leading-6 text-gray-600\">\r\n                Choose from Existing addresses\r\n              </p>\r\n              <ul>\r\n                {user.addresses.map((address, index) => (\r\n                  <li\r\n                    key={index}\r\n                    className=\"flex justify-between gap-x-6 px-5 py-5 border-solid border-2 border-gray-200\"\r\n                  >\r\n                    <div className=\"flex gap-x-4\">\r\n                      <input\r\n                        onChange={handleAddress}\r\n                        name=\"address\"\r\n                        type=\"radio\"\r\n                        value={index}\r\n                        className=\"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600\"\r\n                      />\r\n                      <div className=\"min-w-0 flex-auto\">\r\n                        <p className=\"text-sm font-semibold leading-6 text-gray-900\">\r\n                          {address.name}\r\n                        </p>\r\n                        <p className=\"mt-1 truncate text-xs leading-5 text-gray-500\">\r\n                          {address.street}\r\n                        </p>\r\n                        <p className=\"mt-1 truncate text-xs leading-5 text-gray-500\">\r\n                          {address.pinCode}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"hidden sm:flex sm:flex-col sm:items-end\">\r\n                      <p className=\"text-sm leading-6 text-gray-900\">\r\n                        Phone: {address.phone}\r\n                      </p>\r\n                      <p className=\"text-sm leading-6 text-gray-500\">\r\n                        {address.city}\r\n                      </p>\r\n                    </div>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n\r\n              <div className=\"mt-10 space-y-10\">\r\n                <fieldset>\r\n                  <legend className=\"text-sm font-semibold leading-6 text-gray-900\">\r\n                    Payment Methods\r\n                  </legend>\r\n                  <p className=\"mt-1 text-sm leading-6 text-gray-600\">\r\n                    Choose One\r\n                  </p>\r\n                  <div className=\"mt-6 space-y-6\">\r\n                    <div className=\"flex items-center gap-x-3\">\r\n                      <input\r\n                        id=\"cash\"\r\n                        name=\"payments\"\r\n                        onChange={handlePayment}\r\n                        value=\"cash\"\r\n                        type=\"radio\"\r\n                        checked={paymentMethod === 'cash'}\r\n                        className=\"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600\"\r\n                      />\r\n                      <label\r\n                        htmlFor=\"cash\"\r\n                        className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                      >\r\n                        Cash\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-x-3\">\r\n                      <input\r\n                        id=\"card\"\r\n                        onChange={handlePayment}\r\n                        name=\"payments\"\r\n                        checked={paymentMethod === 'card'}\r\n                        value=\"card\"\r\n                        type=\"radio\"\r\n                        className=\"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600\"\r\n                      />\r\n                      <label\r\n                        htmlFor=\"card\"\r\n                        className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                      >\r\n                        Card Payment\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </fieldset>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"lg:col-span-2\">\r\n            <div className=\"mx-auto mt-12 bg-white max-w-7xl px-2 sm:px-2 lg:px-4\">\r\n              <div className=\"border-t border-gray-200 px-0 py-6 sm:px-0\">\r\n                <h1 className=\"text-4xl my-5 font-bold tracking-tight text-gray-900\">\r\n                  Cart\r\n                </h1>\r\n                <div className=\"flow-root\">\r\n                  <ul role=\"list\" className=\"-my-6 divide-y divide-gray-200\">\r\n                    {items.map((item) => (\r\n                      <li key={item.id} className=\"flex py-6\">\r\n                        <div className=\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\">\r\n                          <img\r\n                            src={item.product.thumbnail}\r\n                            alt={item.product.title}\r\n                            className=\"h-full w-full object-cover object-center\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div className=\"ml-4 flex flex-1 flex-col\">\r\n                          <div>\r\n                            <div className=\"flex justify-between text-base font-medium text-gray-900\">\r\n                              <h3>\r\n                                <a href={item.product.id}>\r\n                                  {item.product.title}\r\n                                </a>\r\n                              </h3>\r\n                              <p className=\"ml-4\">\r\n                                Rs. {Math.round(item.product.price * (1 - item.product.discountPercentage / 100))}\r\n                              </p>\r\n                            </div>\r\n                            <p className=\"mt-1 text-sm text-gray-500\">\r\n                              {item.product.brand}\r\n                            </p>\r\n                          </div>\r\n                          <div className=\"flex flex-1 items-end justify-between text-sm\">\r\n                            <div className=\"text-gray-500\">\r\n                              <label\r\n                                htmlFor=\"quantity\"\r\n                                className=\"inline mr-5 text-sm font-medium leading-6 text-gray-900\"\r\n                              >\r\n                                Qty\r\n                              </label>\r\n                              <select\r\n                                onChange={(e) => handleQuantity(e, item)}\r\n                                value={item.quantity}\r\n                              >\r\n                                <option value=\"1\">1</option>\r\n                                <option value=\"2\">2</option>\r\n                                <option value=\"3\">3</option>\r\n                                <option value=\"4\">4</option>\r\n                                <option value=\"5\">5</option>\r\n                              </select>\r\n                            </div>\r\n\r\n                            <div className=\"flex\">\r\n                              <button\r\n                                onClick={(e) => handleRemove(e, item.id)}\r\n                                type=\"button\"\r\n                                className=\"font-medium text-indigo-600 hover:text-indigo-500\"\r\n                              >\r\n                                Remove\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"border-t border-gray-200 px-2 py-6 sm:px-2\">\r\n                <div className=\"flex justify-between my-2 text-base font-medium text-gray-900\">\r\n                  <p>Tax</p>\r\n                  <p>Rs. {taxprice}</p>\r\n                </div>\r\n                <div className=\"flex justify-between my-2 text-base font-medium text-gray-900\">\r\n                  <p>Total Amount</p>\r\n                  <p>Rs. {totalAmount}</p>\r\n                </div>\r\n                <div className=\"flex justify-between my-2 text-base font-medium text-gray-900\">\r\n                  <p>Total Items in Cart</p>\r\n                  <p>{totalItems} items</p>\r\n                </div>\r\n                <p className=\"mt-0.5 text-sm text-gray-500\">\r\n                  Shipping and taxes calculated at checkout.\r\n                </p>\r\n                <div className=\"mt-6\">\r\n                  <div\r\n                    onClick={handleOrder}\r\n                    className=\"flex cursor-pointer items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700\"\r\n                  >\r\n                    Order Now\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-6 flex justify-center text-center text-sm text-gray-500\">\r\n                  <p>\r\n                    or\r\n                    <Link to=\"/\">\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"font-medium text-indigo-600 hover:text-indigo-500\"\r\n                      >\r\n                        Continue Shopping\r\n                        <span aria-hidden=\"true\"> &rarr;</span>\r\n                      </button>\r\n                    </Link>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}