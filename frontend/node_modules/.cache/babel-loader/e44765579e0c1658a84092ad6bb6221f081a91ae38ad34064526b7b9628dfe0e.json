{"ast":null,"code":"import _objectSpread from\"C:/Users/princ/Desktop/eommercenew/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Counter}from'./features/counter/Counter';import'./App.css';import Home from'./pages/Home';import LoginPage from'./pages/LoginPage';import SignupPage from'./pages/SignupPage';import{createBrowserRouter,Link,RouterProvider}from'react-router-dom';import CartPage from'./pages/CartPage';import Checkout from'./pages/Checkout';import ProductDetailPage from'./pages/ProductDetailPage';import Protected from'./features/auth/components/Protected';import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{checkAuthAsync,selectLoggedInUser,selectUserChecked}from'./features/auth/authSlice';import{fetchItemsByUserIdAsync}from'./features/cart/cartSlice';import PageNotFound from'./pages/404';import OrderSuccessPage from'./pages/OrderSuccessPage';import UserOrdersPage from'./pages/UserOrdersPage';import UserProfilePage from'./pages/UserProfilePage';import{fetchLoggedInUserAsync}from'./features/user/userSlice';import Logout from'./features/auth/components/Logout';import ForgotPasswordPage from'./pages/ForgotPasswordPage';import ProtectedAdmin from'./features/auth/components/ProtectedAdmin';import AdminHome from'./pages/AdminHome';import AdminProductDetailPage from'./pages/AdminProductDetailPage';import AdminProductFormPage from'./pages/AdminProductFormPage';import AdminOrdersPage from'./pages/AdminOrdersPage';import{positions,Provider}from'react-alert';import AlertTemplate from'react-alert-template-basic';import StripeCheckout from'./pages/StripeCheckout';import ResetPasswordPage from'./pages/ResetPasswordPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var options={timeout:5000,position:positions.BOTTOM_LEFT};var router=createBrowserRouter([{path:'/',element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(Home,{})})},{path:'/admin',element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminHome,{})})},{path:'/login',element:/*#__PURE__*/_jsx(LoginPage,{})},{path:'/signup',element:/*#__PURE__*/_jsx(SignupPage,{})},{path:'/cart',element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(CartPage,{})})},{path:'/checkout',element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(Checkout,{})})},{path:'/product-detail/:id',element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(ProductDetailPage,{})})},{path:'/admin/product-detail/:id',element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductDetailPage,{})})},{path:'/admin/product-form',element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductFormPage,{})})},{path:'/admin/orders',element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminOrdersPage,{})})},{path:'/admin/product-form/edit/:id',element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductFormPage,{})})},{path:'/order-success/:id',element:/*#__PURE__*/_jsxs(Protected,{children:[/*#__PURE__*/_jsx(OrderSuccessPage,{}),' ']})},{path:'/my-orders',element:/*#__PURE__*/_jsxs(Protected,{children:[/*#__PURE__*/_jsx(UserOrdersPage,{}),' ']})},{path:'/profile',element:/*#__PURE__*/_jsxs(Protected,{children:[/*#__PURE__*/_jsx(UserProfilePage,{}),' ']})},{path:'/stripe-checkout/',element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(StripeCheckout,{})})},{path:'/logout',element:/*#__PURE__*/_jsx(Logout,{})},{path:'/forgot-password',element:/*#__PURE__*/_jsx(ForgotPasswordPage,{})},{path:'/reset-password',element:/*#__PURE__*/_jsx(ResetPasswordPage,{})},{path:'*',element:/*#__PURE__*/_jsx(PageNotFound,{})}]);function App(){var dispatch=useDispatch();var user=useSelector(selectLoggedInUser);var userChecked=useSelector(selectUserChecked);useEffect(function(){dispatch(checkAuthAsync());},[dispatch]);useEffect(function(){if(user){dispatch(fetchItemsByUserIdAsync());// we can get req.user by token on backend so no need to give in front-end\ndispatch(fetchLoggedInUserAsync());}},[dispatch,user]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:userChecked&&/*#__PURE__*/_jsx(Provider,_objectSpread(_objectSpread({template:AlertTemplate},options),{},{children:/*#__PURE__*/_jsx(RouterProvider,{router:router})}))})});}export default App;","map":{"version":3,"names":["Counter","Home","LoginPage","SignupPage","createBrowserRouter","Link","RouterProvider","CartPage","Checkout","ProductDetailPage","Protected","useEffect","useDispatch","useSelector","checkAuthAsync","selectLoggedInUser","selectUserChecked","fetchItemsByUserIdAsync","PageNotFound","OrderSuccessPage","UserOrdersPage","UserProfilePage","fetchLoggedInUserAsync","Logout","ForgotPasswordPage","ProtectedAdmin","AdminHome","AdminProductDetailPage","AdminProductFormPage","AdminOrdersPage","positions","Provider","AlertTemplate","StripeCheckout","ResetPasswordPage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","options","timeout","position","BOTTOM_LEFT","router","path","element","children","App","dispatch","user","userChecked","className","_objectSpread","template"],"sources":["C:/Users/princ/Desktop/eommercenew/frontend/src/App.js"],"sourcesContent":["import { Counter } from './features/counter/Counter';\r\nimport './App.css';\r\nimport Home from './pages/Home';\r\nimport LoginPage from './pages/LoginPage';\r\nimport SignupPage from './pages/SignupPage';\r\n\r\nimport { createBrowserRouter, Link, RouterProvider } from 'react-router-dom';\r\nimport CartPage from './pages/CartPage';\r\nimport Checkout from './pages/Checkout';\r\nimport ProductDetailPage from './pages/ProductDetailPage';\r\nimport Protected from './features/auth/components/Protected';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  checkAuthAsync,\r\n  selectLoggedInUser,\r\n  selectUserChecked,\r\n} from './features/auth/authSlice';\r\nimport { fetchItemsByUserIdAsync } from './features/cart/cartSlice';\r\nimport PageNotFound from './pages/404';\r\nimport OrderSuccessPage from './pages/OrderSuccessPage';\r\nimport UserOrdersPage from './pages/UserOrdersPage';\r\nimport UserProfilePage from './pages/UserProfilePage';\r\nimport { fetchLoggedInUserAsync } from './features/user/userSlice';\r\nimport Logout from './features/auth/components/Logout';\r\nimport ForgotPasswordPage from './pages/ForgotPasswordPage';\r\nimport ProtectedAdmin from './features/auth/components/ProtectedAdmin';\r\nimport AdminHome from './pages/AdminHome';\r\nimport AdminProductDetailPage from './pages/AdminProductDetailPage';\r\nimport AdminProductFormPage from './pages/AdminProductFormPage';\r\nimport AdminOrdersPage from './pages/AdminOrdersPage';\r\nimport { positions, Provider } from 'react-alert';\r\nimport AlertTemplate from 'react-alert-template-basic';\r\nimport StripeCheckout from './pages/StripeCheckout';\r\nimport ResetPasswordPage from './pages/ResetPasswordPage';\r\n\r\nconst options = {\r\n  timeout: 5000,\r\n  position: positions.BOTTOM_LEFT,\r\n};\r\n\r\nconst router = createBrowserRouter([\r\n  {\r\n    path: '/',\r\n    element: (\r\n      <Protected>\r\n        <Home></Home>\r\n      </Protected>\r\n    ),\r\n  },\r\n  {\r\n    path: '/admin',\r\n    element: (\r\n      <ProtectedAdmin>\r\n        <AdminHome></AdminHome>\r\n      </ProtectedAdmin>\r\n    ),\r\n  },\r\n  {\r\n    path: '/login',\r\n    element: <LoginPage></LoginPage>,\r\n  },\r\n  {\r\n    path: '/signup',\r\n    element: <SignupPage></SignupPage>,\r\n  },\r\n  {\r\n    path: '/cart',\r\n    element: (\r\n      <Protected>\r\n        <CartPage></CartPage>\r\n      </Protected>\r\n    ),\r\n  },\r\n  {\r\n    path: '/checkout',\r\n    element: (\r\n      <Protected>\r\n        <Checkout></Checkout>\r\n      </Protected>\r\n    ),\r\n  },\r\n  {\r\n    path: '/product-detail/:id',\r\n    element: (\r\n      <Protected>\r\n        <ProductDetailPage></ProductDetailPage>\r\n      </Protected>\r\n    ),\r\n  },\r\n  {\r\n    path: '/admin/product-detail/:id',\r\n    element: (\r\n      <ProtectedAdmin>\r\n        <AdminProductDetailPage></AdminProductDetailPage>\r\n      </ProtectedAdmin>\r\n    ),\r\n  },\r\n  {\r\n    path: '/admin/product-form',\r\n    element: (\r\n      <ProtectedAdmin>\r\n        <AdminProductFormPage></AdminProductFormPage>\r\n      </ProtectedAdmin>\r\n    ),\r\n  },\r\n  {\r\n    path: '/admin/orders',\r\n    element: (\r\n      <ProtectedAdmin>\r\n        <AdminOrdersPage></AdminOrdersPage>\r\n      </ProtectedAdmin>\r\n    ),\r\n  },\r\n  {\r\n    path: '/admin/product-form/edit/:id',\r\n    element: (\r\n      <ProtectedAdmin>\r\n        <AdminProductFormPage></AdminProductFormPage>\r\n      </ProtectedAdmin>\r\n    ),\r\n  },\r\n  {\r\n    path: '/order-success/:id',\r\n    element: (\r\n      <Protected>\r\n        <OrderSuccessPage></OrderSuccessPage>{' '}\r\n      </Protected>\r\n    ),\r\n  },\r\n  {\r\n    path: '/my-orders',\r\n    element: (\r\n      <Protected>\r\n        <UserOrdersPage></UserOrdersPage>{' '}\r\n      </Protected>\r\n    ),\r\n  },\r\n  {\r\n    path: '/profile',\r\n    element: (\r\n      <Protected>\r\n        <UserProfilePage></UserProfilePage>{' '}\r\n      </Protected>\r\n    ),\r\n  },\r\n  {\r\n    path: '/stripe-checkout/',\r\n    element: (\r\n      <Protected>\r\n        <StripeCheckout></StripeCheckout>\r\n      </Protected>\r\n    ),\r\n  },\r\n  {\r\n    path: '/logout',\r\n    element: <Logout></Logout>,\r\n  },\r\n  {\r\n    path: '/forgot-password',\r\n    element: <ForgotPasswordPage></ForgotPasswordPage>,\r\n  },\r\n  {\r\n    path: '/reset-password',\r\n    element: <ResetPasswordPage></ResetPasswordPage>,\r\n  },\r\n  {\r\n    path: '*',\r\n    element: <PageNotFound></PageNotFound>,\r\n  },\r\n]);\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(selectLoggedInUser);\r\n  const userChecked = useSelector(selectUserChecked);\r\n\r\n  useEffect(() => {\r\n    dispatch(checkAuthAsync());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      dispatch(fetchItemsByUserIdAsync());\r\n      // we can get req.user by token on backend so no need to give in front-end\r\n      dispatch(fetchLoggedInUserAsync());\r\n    }\r\n  }, [dispatch, user]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"App\">\r\n        {userChecked && (\r\n          <Provider template={AlertTemplate} {...options}>\r\n            <RouterProvider router={router} />\r\n          </Provider>\r\n        )}\r\n        {/* Link must be inside the Provider */}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}