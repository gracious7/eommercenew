{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/princ/Desktop/eommercenew/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/princ/Desktop/eommercenew/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import{fetchLoggedInUserOrders,updateUser,fetchLoggedInUser}from'./userAPI';var initialState={status:'idle',userInfo:null// this info will be used in case of detailed user info, while auth will\n// only be used for loggedInUser id etc checks\n};export var fetchLoggedInUserOrderAsync=createAsyncThunk('user/fetchLoggedInUserOrders',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetchLoggedInUserOrders();case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}},_callee);})));export var fetchLoggedInUserAsync=createAsyncThunk('user/fetchLoggedInUser',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchLoggedInUser();case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}},_callee2);})));export var updateUserAsync=createAsyncThunk('user/updateUser',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(update){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return updateUser(update);case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}},_callee3);}));return function(_x){return _ref3.apply(this,arguments);};}());export var userSlice=createSlice({name:'user',initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(fetchLoggedInUserOrderAsync.pending,function(state){state.status='loading';}).addCase(fetchLoggedInUserOrderAsync.fulfilled,function(state,action){state.status='idle';state.userInfo.orders=action.payload;}).addCase(updateUserAsync.pending,function(state){state.status='loading';}).addCase(updateUserAsync.fulfilled,function(state,action){state.status='idle';// earlier there was loggedInUser variable in other slice\nstate.userInfo=action.payload;}).addCase(fetchLoggedInUserAsync.pending,function(state){state.status='loading';}).addCase(fetchLoggedInUserAsync.fulfilled,function(state,action){state.status='idle';// this info can be different or more from logged-in User info\nstate.userInfo=action.payload;});}});export var selectUserOrders=function selectUserOrders(state){return state.user.userInfo.orders;};export var selectUserInfo=function selectUserInfo(state){return state.user.userInfo;};export var selectUserInfoStatus=function selectUserInfoStatus(state){return state.user.status;};// export const { increment } = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","fetchLoggedInUserOrders","updateUser","fetchLoggedInUser","initialState","status","userInfo","fetchLoggedInUserOrderAsync","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","abrupt","data","stop","fetchLoggedInUserAsync","_callee2","_callee2$","_context2","updateUserAsync","_ref3","_callee3","update","_callee3$","_context3","_x","apply","arguments","userSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","orders","payload","selectUserOrders","user","selectUserInfo","selectUserInfoStatus","reducer"],"sources":["C:/Users/princ/Desktop/eommercenew/frontend/src/features/user/userSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport {\r\n  fetchLoggedInUserOrders,\r\n  updateUser,\r\n  fetchLoggedInUser,\r\n} from './userAPI';\r\n\r\nconst initialState = {\r\n  status: 'idle',\r\n  userInfo: null, // this info will be used in case of detailed user info, while auth will\r\n  // only be used for loggedInUser id etc checks\r\n};\r\n\r\nexport const fetchLoggedInUserOrderAsync = createAsyncThunk(\r\n  'user/fetchLoggedInUserOrders',\r\n  async () => {\r\n    const response = await fetchLoggedInUserOrders();\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const fetchLoggedInUserAsync = createAsyncThunk(\r\n  'user/fetchLoggedInUser',\r\n  async () => {\r\n    const response = await fetchLoggedInUser();\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const updateUserAsync = createAsyncThunk(\r\n  'user/updateUser',\r\n  async (update) => {\r\n    // this is name mistake\r\n    const response = await updateUser(update);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n   \r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchLoggedInUserOrderAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(fetchLoggedInUserOrderAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        state.userInfo.orders = action.payload;\r\n\r\n      })\r\n      .addCase(updateUserAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(updateUserAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        // earlier there was loggedInUser variable in other slice\r\n        state.userInfo = action.payload;\r\n      })\r\n      .addCase(fetchLoggedInUserAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(fetchLoggedInUserAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        // this info can be different or more from logged-in User info\r\n        state.userInfo = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const selectUserOrders = (state) => state.user.userInfo.orders;\r\nexport const selectUserInfo = (state) => state.user.userInfo;\r\nexport const selectUserInfoStatus = (state) => state.user.status;\r\n\r\n// export const { increment } = userSlice.actions;\r\n\r\nexport default userSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}